(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45694f56"],{"07f7":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.loading?r("div",[r("div",{staticClass:"d-flex justify-content-center"},[r("b-spinner",{attrs:{label:"Loading..."}})],1)]):r("div",[r("b-alert",{attrs:{show:t.error,variant:"danger"}},[t._v(t._s(t.error))]),null===t.vote?r("div",[r("div",{staticClass:"col-md-6 col-sm-8 mx-auto text-center",domProps:{innerHTML:t._s(t.content)}}),r("div",{staticClass:"col-md-4 col-sm-6 mx-auto my-4"},[r("b-alert",{staticClass:"text-center",attrs:{show:t.voted,variant:"success"}},[t._v("Vote added successfully!")]),r("b-button",{attrs:{variant:"primary",block:""},on:{click:function(e){return e.preventDefault(),t.onCreate(e)}}},[t._v("Start New Vote")])],1)]):r("form",{staticClass:"my-3",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)},change:t.onChange}},[r("b-card-group",{staticClass:"mb-3"},[r("EntryCard",{attrs:{data:t.vote.entries[0]}},[r("b-form-group",{attrs:{label:"Comments"}},[r("b-form-textarea",{attrs:{rows:"5"},model:{value:t.comments[0],callback:function(e){t.$set(t.comments,0,e)},expression:"comments[0]"}})],1)],1),r("b-card",{staticClass:"text-center",attrs:{"body-class":"d-flex justify-content-center align-items-center"}},[r("h1",[t._v("OR")]),r("div",{attrs:{slot:"footer"},slot:"footer"},t._l(t.criteria,function(e,a){return r("div",{key:a,staticClass:"py-2"},[r("h6",[t._v(t._s(e))]),r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.result[a],expression:"result[index]",modifiers:{number:!0}}],attrs:{type:"range",value:"0",min:"-1",max:"1",step:"1"},domProps:{value:t.result[a]},on:{__r:function(e){t.$set(t.result,a,t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])}),0)]),r("EntryCard",{attrs:{data:t.vote.entries[1]}},[r("b-form-group",{attrs:{label:"Comments"}},[r("b-form-textarea",{attrs:{rows:"5"},model:{value:t.comments[1],callback:function(e){t.$set(t.comments,1,e)},expression:"comments[1]"}})],1)],1)],1),r("div",{staticClass:"col-md-4 col-sm-6 mx-auto my-4"},[r("TimeButton",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit",available:t.vote.availableAt}},[t._v("Submit")])],1)],1)],1)},n=[],s=(r("a481"),r("6c7b"),r("96cf"),r("3b8d")),i=r("c5bf"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{attrs:{disabled:!t.active}},[!t.label&&t.active?t._t("default"):r("span",[t._v(t._s(t.label))])],2)},l=[],c={props:["available","expire"],data:function(){return{active:!1,label:""}},created:function(){this.interval=window.setInterval(this.validate,1e3),this.validate()},beforeDestroy:function(){this.interval&&(window.clearInterval(this.interval),this.interval=void 0)},methods:{validate:function(){var t=(new Date).getTime(),e=parseInt(this.expire)||0,r=parseInt(this.available)||0;if(e&&e<t)this.label="Expired",this.active=!1;else if(r&&r>t){var a=Math.round((r-t)/1e3),n=Math.floor(a/60);this.label=n?"".concat(n,":").concat(a%60):a%60,this.active=!1}else this.label="Submit",this.active=!0}}},u=c,d=r("2877"),v=Object(d["a"])(u,o,l,!1,null,null,null),m=v.exports,h=r("db49"),f=r.n(h),p=r("bc3a"),b=r.n(p),g=r("953c"),x=r.n(g),_=r("1947"),w=r("205f"),y=r("5cce"),C=r("8226"),k=r("9c7d"),S={components:{BButton:_["a"],BCard:w["a"],BCardGroup:y["a"],BFormGroup:C["a"],BFormTextarea:k["a"],EntryCard:i["a"],TimeButton:m},data:function(){return{error:!1,loading:!0,voted:!1,comments:null,result:null,vote:null,criteria:f.a.criteria,content:x.a}},created:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=JSON.parse(sessionStorage.getItem("vote"))||{comments:["",""],result:new Array(this.criteria.length).fill(0)},this.comments=e.comments,this.result=e.result,t.prev=3,t.next=6,b.a.get("/api/vote");case 6:r=t.sent,this.vote=r.data.data,this.error=null,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](3),401===t.t0.response.status&&this.$router.replace("/entries"),this.vote=null;case 15:this.loading=!1;case 16:case"end":return t.stop()}},t,this,[[3,11]])}));function e(){return t.apply(this,arguments)}return e}(),methods:{saveSession:function(){sessionStorage.setItem("vote",JSON.stringify({result:this.result,comments:this.comments}))},onChange:function(){this.saveSession()},onCreate:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.vote){t.next=2;break}return t.abrupt("return");case 2:return this.loading=!0,this.voted=!1,t.prev=4,t.next=7,b.a.post("/api/vote");case 7:e=t.sent,this.vote=e.data.data,this.error=null,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),this.error=f.a.messages[t.t0.response.data.error];case 15:this.loading=!1;case 16:case"end":return t.stop()}},t,this,[[4,12]])}));function e(){return t.apply(this,arguments)}return e}(),onSubmit:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,b.a.patch("/api/vote",{result:this.result,comments:this.comments});case 4:this.vote=null,this.result=new Array(this.criteria.length).fill(0),this.comments=["",""],this.error=null,this.voted=!0,this.saveSession(),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),this.error=f.a.messages[t.t0.response.data.error];case 15:this.loading=!1;case 16:case"end":return t.stop()}},t,this,[[1,12]])}));function e(){return t.apply(this,arguments)}return e}()}},B=S,j=Object(d["a"])(B,a,n,!1,null,null,null);e["default"]=j.exports},"36bd":function(t,e,r){"use strict";var a=r("4bf8"),n=r("77f1"),s=r("9def");t.exports=function(t){var e=a(this),r=s(e.length),i=arguments.length,o=n(i>1?arguments[1]:void 0,r),l=i>2?arguments[2]:void 0,c=void 0===l?r:n(l,r);while(c>o)e[o++]=t;return e}},4917:function(t,e,r){"use strict";var a=r("cb7c"),n=r("9def"),s=r("0390"),i=r("5f1b");r("214f")("match",1,function(t,e,r,o){return[function(r){var a=t(this),n=void 0==r?void 0:r[e];return void 0!==n?n.call(r,a):new RegExp(r)[e](String(a))},function(t){var e=o(r,t,this);if(e.done)return e.value;var l=a(t),c=String(this);if(!l.global)return i(l,c);var u=l.unicode;l.lastIndex=0;var d,v=[],m=0;while(null!==(d=i(l,c))){var h=String(d[0]);v[m]=h,""===h&&(l.lastIndex=s(c,n(l.lastIndex),u)),m++}return 0===m?null:v}]})},"6c7b":function(t,e,r){var a=r("5ca1");a(a.P,"Array",{fill:r("36bd")}),r("9c6c")("fill")},"953c":function(t,e){t.exports='<h1 id="how-to-upvote">How to Upvote?</h1>\n<p><strong>Take your time</strong><br>Spend at least 5 minute to play each game. You can find great ideas everywhere.</p>\n<p><strong>Stay objective</strong><br>Everyone has friends and favorites. Put them away this time.</p>\n<p><strong>Be responsive</strong><br>Everyone loves feedback. So, don&#39;t save your kind words.</p>\n'},c5bf:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card",{attrs:{"img-src":t.url(t.data.image)}},[r("b-card-title",[r("b-button",{staticClass:"ml-2 float-right",attrs:{href:t.url(t.data.url),target:"blank",variant:"primary",size:"sm"}},[t._v("\n      PLAY\n      "),r("i",{staticClass:"fas fa-external-link-alt"})]),t._v("\n    "+t._s(t.data.title)+"\n  ")],1),r("b-card-text",{domProps:{innerHTML:t._s(t.data.description)}}),r("b-card-text",{staticClass:"small text-muted"},[t._v(t._s(t.data.category.join(", ")))]),t.$slots.default?r("div",{attrs:{slot:"footer"},slot:"footer"},[t._t("default")],2):t._e()],1)},n=[],s=(r("4917"),r("205f")),i=r("d6e4"),o=r("4968"),l={components:{BCard:s["a"],BCardText:i["a"],BCardTitle:o["a"]},props:["data"],methods:{url:function(t){return t.match(/^https?:\/\//)?t:"https://js13kgames.com".concat(t)}}},c=l,u=r("2877"),d=Object(u["a"])(c,a,n,!1,null,null,null);e["a"]=d.exports},db49:function(t,e){t.exports={criteria:["innovation","fun","theme","gameplay","graphics","technical"],categories:["desktop","mobile","server","webxr"],messages:{error_invalid_code:"Authentication error!",error_invalid_user:"Access denied!",error_no_active_vote:"No active vote!",error_no_vote_left:"No vote left!",error_missing_token:"Unauthorized request!",error_invalid_token:"Expired token!",error_system_error:"System error!"}}}}]);
//# sourceMappingURL=chunk-45694f56.733af49e.js.map